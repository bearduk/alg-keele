<html>
<head>
	<meta charset="UTF-8">
	<title>Algolia Keele Trial search</title>

	<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.0.0-RC.1/dist/instantsearch.min.css">
	
	<script src="https://cdn.jsdelivr.net/npm/instantsearch.js@2.0.0-RC.1/dist/instantsearch.min.js"></script>

	<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.0.0-RC.1/dist/instantsearch-theme-algolia.min.css">
	


</head>
<body>
	<img src="https://www.keele.ac.uk/media/keeleuniversity/styleassets/images/logo.png" alt="Keele University" title="Keele University">
	<p>Proof of concept</p>
	<p>Switch to yarn and package control etc for final build</p>


<div id="current-refined-values">
  <!-- CurrentRefinedValues widget will appear here -->
</div>
<div id="clear-all">
  <!-- ClearAll widget will appear here -->
</div>


<div id="search-box">
  <!-- SearchBox widget will appear here -->
</div>
<div id="refinement-list">
  <!-- RefinementList widget will appear here -->
</div>
<div id="hits">
  <!-- Hits widget will appear here -->
</div>
<div id="pagination">
  <!-- Pagination widget will appear here -->
</div>

<!-- configure the app -->
<script>
const search = instantsearch({
  appId: 'HT7VYJG3KU',
  apiKey: 'd37bbf3291b226676c9f3f1937e865d3',
  indexName: 'dev_COURSES',
  urlSync: true
});

  // initialize currentRefinedValues
  search.addWidget(
    instantsearch.widgets.currentRefinedValues({
      container: '#current-refined-values',
      // This widget can also contain a clear all link to remove all filters,
      // we disable it in this example since we use `clearAll` widget on its own.
      clearAll: false
    })
  );

  // initialize clearAll
  search.addWidget(
    instantsearch.widgets.clearAll({
      container: '#clear-all',
      templates: {
        link: 'Reset everything'
      },
      autoHideContainer: false
    })
  );

  // initialize pagination
  search.addWidget(
    instantsearch.widgets.pagination({
      container: '#pagination',
      maxPages: 20,
      // default is to scroll to 'body', here we disable this behavior
      scrollTo: false
    })
  );


  // initialize RefinementList
  search.addWidget(
    instantsearch.widgets.refinementList({
      container: '#refinement-list',
      attributeName: 'courseLevel'
    })
  );

  // initialize SearchBox
  search.addWidget(
    instantsearch.widgets.searchBox({
      container: '#search-box',
      placeholder: 'Search for a course'
    })
  );

// initialize hits widget
// search.addWidget(
//     instantsearch.widgets.hits({
//       container: '#hits'
//     })
//   );

// initialize hits widget with mustache type template
search.addWidget(
    instantsearch.widgets.hits({
      container: '#hits',
      templates: {
        empty: 'No results',
        item: '<em>Hit {{objectID}}</em>: {{{_highlightResult.courseTitle.value}}}'
      }
    })
  );

search.start();
</script>


</body>
</html>